#:import ft kivy.uix.screenmanager

<ConnectBar>:
    pos_hint: {'top':1}
    background_color: 9, 1, 1, 0.8
    ActionView:
        use_separator: True
        ActionPrevious:
            title: 'Baxter'
            with_previous: False
        ActionOverflow:
        ActionGroup:
            text: 'Group1'
            ActionButton:
                text: 'Connect'
                on_release: root.parent.parent.parent.connect()
            ActionButton:
                icon: '../images/connect.png'
                on_release: root.parent.parent.parent.connect()
        ActionGroup:
            text: 'Group3'
            ActionButton:
                text: 'About'
            ActionButton:
                icon: '../images/about.png'

<DisconnectBar>:
    pos_hint: {'top':1}
    background_color: 9, 1, 1, 0.8
    ActionView:
        use_separator: True
        ActionPrevious:
            title: 'Baxter'
            with_previous: False
        ActionOverflow:
        ActionGroup:
            text: 'Group2'
            ActionButton:
                text: 'Disconnect'
                on_release: root.parent.parent.parent.disconnect()
            ActionButton:
                on_release: app.disconnect()
                icon: '../images/disconnect.png'

<ConnectionScreen>:
    name: 'Connection'
    GridLayout:
        cols:1
        ConnectBar:
            size_hint: 1,.1
        FloatLayout:
            background_color: 1, 1, 1, 0.5
            Label:
                text: 'Baxter Robot User Interface'
                font_size: 50
                pos: 0,200
            Image:
            Label:
                text: 'Connect to the Baxter launching the server first'
                font_size: 24
                pos: 20,150
<MainScreen>:
    name: 'main'
    id: 'mainscr'
    GridLayout:
        cols:1
        DisconnectBar:
            size_hint: 1,.1
        TabbedPanel:
            orientation: 'vertical'
            do_default_tab: False
            tab_pos: 'top_mid'
            tab_width: self.size[0]/len(self.tab_list)
            TabbedPanelItem:
                text: 'Baxter Essentials'
                BoxLayout:
                    orientation: 'horizontal'
                    Button:
                        text: 'Disconnect'
                        size_hint: .4,1
                        on_release: root.parent.disconnect()
                    Button:
                        text: 'Slide 4'
                        on_press: print "Slide 4 pressed"
            TabbedPanelItem:
                text: 'Custom Scripts'
                BoxLayout:
                    orientation: 'horizontal'
                    BoxLayout:
                        size_hint: .4,1
                        orientation: 'vertical'
                        Button:
                            text: 'List of Scripts'
                            on_release: root.send2()
                        Button:
                            text: 'Open Cilinder'
                    BoxLayout:
                        orientation: 'vertical'
                        Label:
                            text: 'Demo program, which shows how Baxter\ncan disassemble a cilinder and store the pieces'
                            text_size: self.size
                            halign: 'center'
                            valign: 'middle'
                            size_hint: 1,2
                        Button:
                            text: 'Run'
                            on_release:
                            halign: 'center'
                            on_release: root.open_cilinder()

            TabbedPanelItem:
                text: 'About'
                Button:
                    text: 'Slide three'

<AboutScreen>:
    name: 'About'
    GridLayout:
        cols:1
        ConnectBar:
            size_hint: 1,.1
        FloatLayout:

ScreenManagement:
    transition: ft.WipeTransition()
    ConnectionScreen:
    MainScreen:
    AboutScreen:


